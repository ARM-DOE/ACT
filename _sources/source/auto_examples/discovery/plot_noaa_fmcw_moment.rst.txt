
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "source/auto_examples/discovery/plot_noaa_fmcw_moment.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_source_auto_examples_discovery_plot_noaa_fmcw_moment.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_source_auto_examples_discovery_plot_noaa_fmcw_moment.py:


NOAA FMCW and parsivel plot
---------------------------
ARM and NOAA have campaigns going on in the Crested Butte, CO region
and as part of that campaign NOAA has FMCW radars deployed that could
benefit the broader ARM and NOAA communities. This is an example of
how to plot both a NOAA FMCW PSL and NOAA parsivel two panel plot
observing the same event.

Author: Zach Sherman, Adam Theisen

.. GENERATED FROM PYTHON SOURCE LINES 12-60



.. image-sg:: /source/auto_examples/discovery/images/sphx_glr_plot_noaa_fmcw_moment_001.png
   :alt: NOAA Site KPS PSL Radar FMCW reflectivity_uncalibrated on 20220801, NOAA Site KPS Parsivel number_density_drops on 20220801
   :srcset: /source/auto_examples/discovery/images/sphx_glr_plot_noaa_fmcw_moment_001.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Downloading kps2221322.raw
    Downloading kps2221323.raw






|

.. code-block:: Python



    import matplotlib.pyplot as plt

    import act

    # Use the ACT downloader to download a file from the
    # Kettle Ponds site on 8/01/2022 between 2200 and 2300 UTC.
    result_22 = act.discovery.download_noaa_psl_data(
        site='kps', instrument='Radar FMCW Moment', startdate='20220801', hour='22'
    )
    result_23 = act.discovery.download_noaa_psl_data(
        site='kps', instrument='Radar FMCW Moment', startdate='20220801', hour='23'
    )

    # Read in the .raw files from both hours. Spectra data are also downloaded.
    ds1 = act.io.noaapsl.read_psl_radar_fmcw_moment([result_22[-1], result_23[-1]])

    # Read in the parsivel text files.
    url = [
        'https://downloads.psl.noaa.gov/psd2/data/realtime/DisdrometerParsivel/Stats/kps/2022/213/kps2221322_stats.txt',
        'https://downloads.psl.noaa.gov/psd2/data/realtime/DisdrometerParsivel/Stats/kps/2022/213/kps2221323_stats.txt',
    ]
    ds2 = act.io.noaapsl.read_psl_parsivel(url)

    # Create a TimeSeriesDisplay object using both datasets.
    display = act.plotting.TimeSeriesDisplay(
        {'NOAA Site KPS PSL Radar FMCW': ds1, 'NOAA Site KPS Parsivel': ds2},
        subplot_shape=(2,),
        figsize=(10, 10),
    )

    # Plot PSL Radar followed by the parsivel data.
    display.plot(
        'reflectivity_uncalibrated',
        dsname='NOAA Site KPS PSL Radar FMCW',
        cmap='HomeyerRainbow',
        subplot_index=(0,),
    )
    display.plot(
        'number_density_drops',
        dsname='NOAA Site KPS Parsivel',
        cmap='HomeyerRainbow',
        subplot_index=(1,),
    )
    # Adjust ylims of parsivel plot.
    display.axes[1].set_ylim([0, 10])
    plt.show()


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 6.037 seconds)


.. _sphx_glr_download_source_auto_examples_discovery_plot_noaa_fmcw_moment.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_noaa_fmcw_moment.ipynb <plot_noaa_fmcw_moment.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_noaa_fmcw_moment.py <plot_noaa_fmcw_moment.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plot_noaa_fmcw_moment.zip <plot_noaa_fmcw_moment.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
