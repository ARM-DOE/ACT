
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "source/auto_examples/discovery/plot_improve.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_source_auto_examples_discovery_plot_improve.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_source_auto_examples_discovery_plot_improve.py:


IMPROVE Data
-----------

This example shows how to get IMPROVE data for the
system located at ARM's Southern Great Plains site.

.. GENERATED FROM PYTHON SOURCE LINES 9-31



.. image-sg:: /source/auto_examples/discovery/images/sphx_glr_plot_improve_001.png
   :alt: SOGP1 IMPROVE aluminum_fine on 20230103
   :srcset: /source/auto_examples/discovery/images/sphx_glr_plot_improve_001.png
   :class: sphx-glr-single-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    Please use the following acknowledgment when using IMPROVE data:

    IMPROVE is a collaborative association of state, tribal, and federal agencies, and international partners. US Environmental Protection Agency is the primary funding source, with contracting and research support from the National Park Service. The Air Quality Group at the University of California, Davis is the central analytical laboratory, with ion analysis provided by Research Triangle Institute, and carbon analysis provided by Desert Research Institute.
    2020-12-03_Equipment Problem_4D VAC = 4.17 psi (resolved)_
    2020-07-22_Part Replacement_Pump (2B)_
    2020-07-21_Equipment Problem_2B pump didnt start (resolved)_
    2020-07-16_UC Davis Site Visit_Calibration and maintenance on all modules_
    2019-11-12_Part Replacement_Controller_
    2019-10-29_Equipment Problem_Controller screen is black (resolved)_
    2019-10-16_Part Replacement_Other_
    2019-10-16_Part Replacement_EBox (4D)_
    2019-10-07_Equipment Problem_D Module Ebox went Offline (resolved)_







|

.. code-block:: Python


    import act
    import matplotlib.pyplot as plt

    # Pull the data using the site_id from IMPROVE
    # https://views.cira.colostate.edu/adms/Pub/SiteSummary.aspx?dsidse=10001&siidse=244
    ds = act.discovery.get_improve_data(site_id='244', start_date='1/1/2023', end_date='12/31/2023')

    # Remove all data that's set to the FillValue
    ds = ds.where(ds['aluminum_fine'] != ds['aluminum_fine'].attrs['_FillValue'])

    display = act.plotting.TimeSeriesDisplay(ds, figsize=(10, 6))
    display.plot('aluminum_fine')

    # Print out the known problems documented by IMPROVE
    print(ds.attrs['site_problems'])

    # Write out the data to netCDF and csv
    ds.to_netcdf('./sgpimprove.20230101.nc')
    ds.to_dataframe().to_csv('sgpimprove.20230101.csv')

    plt.show()


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 2.537 seconds)


.. _sphx_glr_download_source_auto_examples_discovery_plot_improve.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_improve.ipynb <plot_improve.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_improve.py <plot_improve.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: plot_improve.zip <plot_improve.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
