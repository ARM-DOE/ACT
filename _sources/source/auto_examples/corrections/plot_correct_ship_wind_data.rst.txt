
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "source/auto_examples/corrections/plot_correct_ship_wind_data.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_source_auto_examples_corrections_plot_correct_ship_wind_data.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_source_auto_examples_corrections_plot_correct_ship_wind_data.py:


Correct wind data for ship motion
---------------------------------------------------

This example shows how to calculate course and speed
over ground of the ship and use it to correct the
wind speed and direction data.

.. GENERATED FROM PYTHON SOURCE LINES 9-37







.. code-block:: Python

    from arm_test_data import DATASETS
    import xarray as xr

    import act

    # Read in the navigation data, mainly for the lat/lon
    filename_nav = DATASETS.fetch('marnavM1.a1.20180201.000000.nc')
    nav_ds = act.io.arm.read_arm_netcdf(filename_nav)

    # Calculate course and speed over ground from the NAV
    # lat and lon data
    nav_ds = act.utils.ship_utils.calc_cog_sog(nav_ds)

    # Read in the data containing the wind speed and direction
    filename_aosmet = DATASETS.fetch('maraosmetM1.a1.20180201.000000.nc')
    aosmet_ds = act.io.arm.read_arm_netcdf(filename_aosmet)

    # Merge the navigation and wind data together
    # This have been previously resampled to 1-minute data
    ds = xr.merge([nav_ds, aosmet_ds], compat='override')

    # Call the correction for the winds.  Note, that this only
    # corrects for ship course and speed, not roll and pitch.
    ds = act.corrections.ship.correct_wind(ds)

    nav_ds.close()
    aosmet_ds.close()
    ds.close()


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 4.095 seconds)


.. _sphx_glr_download_source_auto_examples_corrections_plot_correct_ship_wind_data.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: plot_correct_ship_wind_data.ipynb <plot_correct_ship_wind_data.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: plot_correct_ship_wind_data.py <plot_correct_ship_wind_data.py>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
