<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Create a dataset to mimic ARM file formats &#8212; Atmospheric data Community Toolkit 0.post1+g834c874 documentation</title>
    
    <link href="../../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
  
    
    <link rel="stylesheet"
      href="../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">
  
    
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&display=swap');
</style>
    
      
  
    

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/pydata-sphinx-theme.css?v=1140d252" />
    <link rel="stylesheet" type="text/css" href="../../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/act-theme.css?v=dec1520a" />
    
    <link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">
  
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js?v=c27cb0da"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../../_static/doc_shared.js?v=4c9803b4"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Convert Data to AmeriFlux Format" href="plot_convert_ameriflux.html" />
    <link rel="prev" title="Plot ICARTT Formatted Files" href="plot_icartt.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-8YN80YZDD8"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-8YN80YZDD8');
                </script>


<link
  rel="alternate"
  type="application/atom+xml"
  href="../../../blog/atom.xml"
  title="ACT Blog"
/>



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
  <nav class="navbar navbar-dark navbar-expand-lg bg-arm fixed-top bd-navbar shadow" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../../../index.html">
<p class="title">Atmospheric data Community Toolkit</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../userguide/GUIDE_V2.html">
  ACT Version 2 Release Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../userguide/index.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../API/index.html">
  API Reference Manual
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  ACT Example Gallery
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../../blog.html">
  Blog
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference external nav-link" href="https://github.com/ARM-DOE/ACT/issues">
  GitHub Issue Tracker
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/ARM-DOE/ACT" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
  </nav>


    <div class="container-fluid" id="banner"></div>


    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../corrections/index.html">
   Correction examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../corrections/plot_correct_ship_wind_data.html">
     Correct wind data for ship motion
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../discovery/index.html">
   Discovery examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../discovery/plot_asos_temp.html">
     Query and plot ASOS data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discovery/plot_noaa_fmcw_moment.html">
     NOAA FMCW and parsivel plot
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discovery/plot_neon.html">
     NEON Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../discovery/plot_airnow.html">
     Airnow Data
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Input/Output Examples
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="plot_hysplit.html">
     Read and plot a HYSPLIT trajectory file from a HYSPlIT run.
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="plot_raw_minimpl.html">
     Read and plot a PPI from raw mini-MPL data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="plot_sodar.html">
     Read and plot a Sodar file
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="plot_surfrad.html">
     Plot SurfRad Data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="plot_icartt.html">
     Plot ICARTT Formatted Files
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Create a dataset to mimic ARM file formats
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="plot_convert_ameriflux.html">
     Convert Data to AmeriFlux Format
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../plotting/index.html">
   Plotting examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_enhanced_skewt.html">
     Enhanced plot of a sounding
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_hist_kwargs.html">
     Plot a histogram of Met data.
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_sonde.html">
     Plot a timeseries of sounding data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_time_height_scatter.html">
     Time-Height Scatter Plot
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_aaf_track.html">
     Plot ARM AAF Flight Path
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_qc.html">
     Plotting QC Flags
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_size_distribution.html">
     Example Size Distribution Plots
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_violin.html">
     Investigate Temperature Quantiles
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_daytime_averages.html">
     Calculate and plot daily daytime temperature averages
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_skewt.html">
     Skew-T plot of a sounding
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_multiple_column.html">
     Plot a timeseries of sounding data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_days.html">
     Calculate and plot wind rose plots separated by day.
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_secondary_y.html">
     Secondary Y-Axis Plotting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_pie_chart.html">
     Calculate and View Aerosol Percentages
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_examples.html">
     Xarray Plotting Examples
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_xsection.html">
     Multidimensional cross sections
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_ceil.html">
     Simple plot of 2D data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_heatmap.html">
     Example plot using heat maps
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_skewt_with_text.html">
     Skew-T plot of a sounding
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_contour.html">
     Spatial contour plot
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_scatter.html">
     Compare Aircraft Airspeeds
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_rh_timeseries.html">
     Plot winds and relative humidity from sounding data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_data_rose.html">
     Data rose plot
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_wind_rose.html">
     Windrose and windbarb timeseries plot
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_presentweathercode.html">
     Plot Present Weather Code
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../plotting/plot_state_variable.html">
     Plotting state variables
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../qc/index.html">
   Quality Control Examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../qc/plot_dqr_qc.html">
     Query the ARM DQR webservice
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../qc/plot_force_line_qc.html">
     Forcing line plots with 2D data and QC
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../qc/plot_qc_bsrn.html">
     Plotting Baseline Surface Radiation Network (BSRN) QC Flags
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../qc/plot_qc_example.html">
     Working with embedded quality control variables
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../qc/plot_arm_qc.html">
     Working with and expanding embedded quality control variables
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../retrievals/index.html">
   Retrieval examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../retrievals/plot_get_stability_indices_example.html">
     Retrieve stability indicies from a sounding
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../retrievals/plot_cbh_sobel.html">
     Cloud Base Height Retrievals
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../utils/index.html">
   Utility examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../utils/plot_calculated_percentages.html">
     Calculate and plot aerosol percentages.
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../utils/plot_parse_filename.html">
     Parse the ARM datastream filename
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../utils/plot_change_units.html">
     Changing units in dataset
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../utils/plot_tar.html">
     Working with TAR and gunzip files
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../workflows/index.html">
   Workflow examples
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../workflows/plot_qc_transforms.html">
     Transformations and QC
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../workflows/plot_multiple_dataset.html">
     Plot multiple datasets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../workflows/plot_aerioe_with_cbh.html">
     Plot AERIoe data with cloud base height from ceilometer
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../workflows/plot_weighted_average.html">
     Calculate and plot weighted means
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../workflows/plot_merged_product.html">
     Merge multiple datasets
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                

<nav id="bd-toc-nav">
    
</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
<div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-source-auto-examples-io-plot-create-arm-ds-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="create-a-dataset-to-mimic-arm-file-formats">
<span id="sphx-glr-source-auto-examples-io-plot-create-arm-ds-py"></span><h1>Create a dataset to mimic ARM file formats<a class="headerlink" href="#create-a-dataset-to-mimic-arm-file-formats" title="Permalink to this heading">Â¶</a></h1>
<p>Example shows how to create a dataset from an ARM DOD.
This will enable users to create files that mimic ARM
files, making for easier use across the community.</p>
<p>Author: Adam Theisen</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>/home/runner/work/ACT/ACT/act/io/arm.py:458: UserWarning: Version:  not available or not specified. Using Version: 1.2
  warnings.warn(
&lt;xarray.Dataset&gt; Size: 3MB
Dimensions:                            (time: 1440, drop_diameter: 50)
Coordinates:
  * time                               (time) int64 12kB 0 1 2 ... 1438 1439
  * drop_diameter                      (drop_diameter) int64 400B 0 1 ... 48 49
Data variables: (12/36)
    base_time                          (time) float64 12kB -9.999e+03 ... -9....
    time_offset                        (time) float64 12kB -9.999e+03 ... -9....
    num_drops                          (time, drop_diameter) float64 576kB -9...
    qc_num_drops                       (time, drop_diameter) float64 576kB -9...
    num_density                        (time, drop_diameter) float64 576kB -9...
    qc_num_density                     (time, drop_diameter) float64 576kB -9...
    ...                                 ...
    moment5                            (time) float64 12kB -9.999e+03 ... -9....
    moment6                            (time) float64 12kB -9.999e+03 ... -9....
    radar_reflectivity                 (time) float64 12kB -9.999e+03 ... -9....
    lat                                (time) float64 12kB -9.999e+03 ... -9....
    lon                                (time) float64 12kB -9.999e+03 ... -9....
    alt                                (time) float64 12kB -9.999e+03 ... -9....
Attributes: (12/23)
    command_line:
    process_version:
    dod_version:
    site_id:
    facility_id:
    input_source:
    ...                      ...
    qc_bit_3_description:    Value is greater than the valid_max.
    qc_bit_3_assessment:     Bad
    qc_bit_4_description:    Difference between current and previous values e...
    qc_bit_4_assessment:     Indeterminate
    datastream:
    history:
{&#39;long_name&#39;: &#39;Number of drops per bin&#39;, &#39;units&#39;: &#39;unitless&#39;, &#39;valid_min&#39;: &#39;0&#39;, &#39;missing_value&#39;: &#39;-9999&#39;}
{&#39;command_line&#39;: &#39;&#39;, &#39;process_version&#39;: &#39;&#39;, &#39;dod_version&#39;: &#39;&#39;, &#39;site_id&#39;: &#39;&#39;, &#39;facility_id&#39;: &#39;&#39;, &#39;input_source&#39;: &#39;&#39;, &#39;resolution_description&#39;: &#39;The resolution field attributes refer to the number of significant digits relative to the decimal point that should be used in calculations. Using fewer digits might result in greater uncertainty. Using a larger number of digits should have no effect and thus is unnecessary. However, analysis based on differences in values with a larger number of significant digits than indicated could lead to erroneous results or misleading scientific conclusions.\n\nresolution for lat = 0.001\nresolution for lon = 0.001\nresolution for alt = 1&#39;, &#39;sampling_interval&#39;: &#39;1 minute&#39;, &#39;serial_number&#39;: &#39;&#39;, &#39;bin_width&#39;: &#39;0.2 mm&#39;, &#39;qc_standards_version&#39;: &#39;1.0&#39;, &#39;qc_method&#39;: &#39;Standard Mentor QC&#39;, &#39;qc_comment&#39;: &quot;The QC field values are a bit packed representation of true/false values for the tests that may have been performed. A QC value of zero means that none of the tests performed on the value failed.\n\nThe QC field values make use of the internal binary format to store the results of the individual QC tests. This allows the representation of multiple QC states in a single value. If the test associated with a particular bit fails the bit is turned on. Turning on the bit equates to adding the integer value of the failed test to the current value of the field. The QC field&#39;s value can be interpreted by applying bit logic using bitwise operators, or by examining the QC value&#39;s integer representation. A QC field&#39;s integer representation is the sum of the individual integer values of the failed tests. The bit and integer equivalents for the first 5 bits are listed below:\n\nbit_1 = 00000001 = 0x01 = 2^0 = 1\nbit_2 = 00000010 = 0x02 = 2^1 = 2\nbit_3 = 00000100 = 0x04 = 2^2 = 4\nbit_4 = 00001000 = 0x08 = 2^3 = 8\nbit_5 = 00010000 = 0x10 = 2^4 = 16&quot;, &#39;qc_bit_1_description&#39;: &#39;Value is equal to missing_value.&#39;, &#39;qc_bit_1_assessment&#39;: &#39;Bad&#39;, &#39;qc_bit_2_description&#39;: &#39;Value is less than the valid_min.&#39;, &#39;qc_bit_2_assessment&#39;: &#39;Bad&#39;, &#39;qc_bit_3_description&#39;: &#39;Value is greater than the valid_max.&#39;, &#39;qc_bit_3_assessment&#39;: &#39;Bad&#39;, &#39;qc_bit_4_description&#39;: &#39;Difference between current and previous values exceeds valid_delta.&#39;, &#39;qc_bit_4_assessment&#39;: &#39;Indeterminate&#39;, &#39;datastream&#39;: &#39;&#39;, &#39;history&#39;: &#39;&#39;}
command_line python  plot_create_arm_ds.py
process_version 1.2.3
history Processed with Jupyter Workbench
random 1234253sdgfadf
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">act</span>

<span class="c1"># Create an empty dataset using an ARM DOD</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">act</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">arm</span><span class="o">.</span><span class="n">create_ds_from_arm_dod</span><span class="p">(</span><span class="s1">&#39;vdis.b1&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mi">1440</span><span class="p">},</span> <span class="n">scalar_fill_dim</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>

<span class="c1"># Print out the xarray dataset to see that it&#39;s empty</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>

<span class="c1"># The user could populate this through a number of ways</span>
<span class="c1"># and that&#39;s best left up to the user on how to do it.</span>
<span class="c1"># If one has an existing dataset, a mapping of variable</span>
<span class="c1"># names is sometimes the easiest way</span>

<span class="c1"># Let&#39;s look at some variable attributes</span>
<span class="c1"># These can be updated and it would be up to the</span>
<span class="c1"># user to ensure these tests are being applied</span>
<span class="c1"># and are appropriately set in the cooresponding QC variable</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;num_drops&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>

<span class="c1"># Next, let&#39;s print out the global attribuets</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">)</span>

<span class="c1"># Add additional attributes or append to existing</span>
<span class="c1"># if they are needed using a dictionary</span>
<a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">atts</span></a> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;command_line&#39;</span><span class="p">:</span> <span class="s1">&#39;python  plot_create_arm_ds.py&#39;</span><span class="p">,</span>
    <span class="s1">&#39;process_version&#39;</span><span class="p">:</span> <span class="s1">&#39;1.2.3&#39;</span><span class="p">,</span>
    <span class="s1">&#39;history&#39;</span><span class="p">:</span> <span class="s1">&#39;Processed with Jupyter Workbench&#39;</span><span class="p">,</span>
    <span class="s1">&#39;random&#39;</span><span class="p">:</span> <span class="s1">&#39;1234253sdgfadf&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="k">for</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">a</span></a> <span class="ow">in</span> <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">atts</span></a><span class="p">:</span>
    <span class="k">if</span> <a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">a</span></a> <span class="ow">in</span> <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">:</span>
        <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">a</span></a><span class="p">]</span> <span class="o">+=</span> <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">atts</span></a><span class="p">[</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">a</span></a><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">a</span></a><span class="p">]</span> <span class="o">=</span> <a href="https://docs.python.org/3/library/stdtypes.html#dict" title="builtins.dict" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">atts</span></a><span class="p">[</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">a</span></a><span class="p">]</span>
    <span class="c1"># Print out the attribute</span>
    <span class="nb">print</span><span class="p">(</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">a</span></a><span class="p">,</span> <span class="n">ds</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><a href="https://docs.python.org/3/library/stdtypes.html#str" title="builtins.str" class="sphx-glr-backref-module-builtins sphx-glr-backref-type-py-class sphx-glr-backref-instance"><span class="n">a</span></a><span class="p">])</span>

<span class="c1"># Write data out to netcdf</span>
<span class="n">ds</span><span class="o">.</span><span class="n">to_netcdf</span><span class="p">(</span><span class="s1">&#39;./sgpvdisX1.b1.20230101.000000.nc&#39;</span><span class="p">)</span>

<span class="c1"># If one wants to clean up the dataset to better match CF standards</span>
<span class="c1"># the following can be done as well</span>
<span class="n">ds</span><span class="o">.</span><span class="n">write</span><span class="o">.</span><span class="n">write_netcdf</span><span class="p">(</span><span class="n">cf_compliant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s1">&#39;./sgpvdisX1.b1.20230101.000000.cf&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 1.918 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-source-auto-examples-io-plot-create-arm-ds-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../../_downloads/7bdcd44eee3c41f252a0d29c37901bac/plot_create_arm_ds.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_create_arm_ds.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../../_downloads/6f290f75776cd36096095bc2a2d5806e/plot_create_arm_ds.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_create_arm_ds.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../../../_downloads/d546398eef365474be7c19168b6dcc42/plot_create_arm_ds.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">plot_create_arm_ds.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>

<div class="section ablog__blog_comments">
  
  
</div>

              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="plot_icartt.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Plot ICARTT Formatted Files</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="plot_convert_ameriflux.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Convert Data to AmeriFlux Format</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
    <script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2018-2022, ACT Developers.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.1.2.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>